{"ast":null,"code":"var _jsxFileName = \"/Users/clementhere/Documents/De\\u0301v_web/WCS/Hackathons/Halloween_hackathon/my-app/src/components/SearchBar.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport Suggestions from './Suggestions';\nimport './SearchBar.css';\n\nclass SearchBar extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      query: '',\n      movies: []\n    };\n\n    this.getMovie = () => {\n      axios.get('https://hackathon-wild-hackoween.herokuapp.com/movies').then(res => this.setState({\n        movies: res.data.movies\n      }));\n    };\n\n    this.handleInputChange = () => {\n      this.setState({\n        query: this.search.value\n      }, () => {\n        if (this.state.query && this.state.query.length > 1) {\n          if (this.state.query.length % 2 === 0) {\n            this.getMovie();\n          }\n        } else if (!this.state.query) {}\n      });\n    };\n  }\n\n  //Render \n  render() {\n    return React.createElement(\"div\", {\n      class: \"search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      class: \"searchTerm\",\n      placeholder: \"Which movies are you looking for ?\",\n      ref: input => this.search = input,\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }), React.createElement(Suggestions, {\n      movie: this.state.movies,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"submit\",\n      class: \"searchButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \"Movie me !\"));\n  }\n\n}\n\nexport default SearchBar;","map":{"version":3,"sources":["/Users/clementhere/Documents/Dév_web/WCS/Hackathons/Halloween_hackathon/my-app/src/components/SearchBar.js"],"names":["React","axios","Suggestions","SearchBar","Component","state","query","movies","getMovie","get","then","res","setState","data","handleInputChange","search","value","length","render","input"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAO,iBAAP;;AAEA,MAAMC,SAAN,SAAwBH,KAAK,CAACI,SAA9B,CAAwC;AAAA;AAAA;AAAA,SACtCC,KADsC,GAChC;AACJC,MAAAA,KAAK,EAAC,EADF;AAEJC,MAAAA,MAAM,EAAE;AAFJ,KADgC;;AAAA,SAQtCC,QARsC,GAQ3B,MAAM;AACfP,MAAAA,KAAK,CACFQ,GADH,CACO,uDADP,EAEGC,IAFH,CAEQC,GAAG,IAAI,KAAKC,QAAL,CAAc;AAACL,QAAAA,MAAM,EAAGI,GAAG,CAACE,IAAJ,CAASN;AAAnB,OAAd,CAFf;AAGD,KAZqC;;AAAA,SAgBtCO,iBAhBsC,GAgBlB,MAAM;AACxB,WAAKF,QAAL,CAAc;AACZN,QAAAA,KAAK,EAAE,KAAKS,MAAL,CAAYC;AADP,OAAd,EAEG,MAAM;AACP,YAAI,KAAKX,KAAL,CAAWC,KAAX,IAAoB,KAAKD,KAAL,CAAWC,KAAX,CAAiBW,MAAjB,GAA0B,CAAlD,EAAqD;AACnD,cAAI,KAAKZ,KAAL,CAAWC,KAAX,CAAiBW,MAAjB,GAA0B,CAA1B,KAAgC,CAApC,EAAuC;AACrC,iBAAKT,QAAL;AACD;AACF,SAJD,MAIO,IAAI,CAAC,KAAKH,KAAL,CAAWC,KAAhB,EAAuB,CAC7B;AACF,OATD;AAUD,KA3BqC;AAAA;;AA6BtC;AAEAY,EAAAA,MAAM,GAAG;AACP,WACE;AAAK,MAAA,KAAK,EAAC,QAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,KAAK,EAAC,YAFR;AAGE,MAAA,WAAW,EAAC,oCAHd;AAIE,MAAA,GAAG,EAAEC,KAAK,IAAI,KAAKJ,MAAL,GAAcI,KAJ9B;AAKE,MAAA,QAAQ,EAAE,KAAKL,iBALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EASE,oBAAC,WAAD;AAAa,MAAA,KAAK,EAAE,KAAKT,KAAL,CAAWE,MAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATF,EAUE;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,KAAK,EAAC,cAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAVF,CADF;AAeD;;AA/CqC;;AAkDxC,eAAeJ,SAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport Suggestions from './Suggestions';\nimport './SearchBar.css';\n\nclass SearchBar extends React.Component {\n  state={\n    query:'',\n    movies: []\n  }\n\n  //Rechercher les films dans l'API\n\n  getMovie = () => {\n    axios\n      .get('https://hackathon-wild-hackoween.herokuapp.com/movies') \n      .then(res => this.setState({movies : res.data.movies}))\n  }\n\n  // Input pour rechercher un film \n\n  handleInputChange = () => {\n    this.setState({\n      query: this.search.value\n    }, () => {\n      if (this.state.query && this.state.query.length > 1) {\n        if (this.state.query.length % 2 === 0) {\n          this.getMovie()\n        }\n      } else if (!this.state.query) {\n      }\n    })\n  }\n\n  //Render \n\n  render() {\n    return(\n      <div class=\"search\">\n        <input \n          type=\"text\" \n          class=\"searchTerm\" \n          placeholder=\"Which movies are you looking for ?\"\n          ref={input => this.search = input}\n          onChange={this.handleInputChange}\n        />\n        {/* <p>{this.state.query}</p> */}\n        <Suggestions movie={this.state.movies} />\n        <button type=\"submit\" class=\"searchButton\">Movie me !</button>\n        \n      </div>\n    )\n  }\n}\n\nexport default SearchBar"]},"metadata":{},"sourceType":"module"}