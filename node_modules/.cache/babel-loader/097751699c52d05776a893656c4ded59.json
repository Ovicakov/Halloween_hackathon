{"ast":null,"code":"var _jsxFileName = \"/Users/clementhere/Documents/De\\u0301v_web/WCS/Hackathons/Halloween_hackathon/my-app/src/components/SearchBar.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport Suggestions from './Suggestions';\nimport './SearchBar.css';\nconst API_KEY = process.env.API_KEY;\nconst API_URL = 'https://hackathon-wild-hackoween.herokuapp.com/movies';\n\nclass SearchBar extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      query: '',\n      results: []\n    };\n\n    this.handleInputChange = () => {\n      this.setState({\n        query: this.search.value\n      }, () => {\n        if (this.state.query && this.state.query.length > 1) {\n          if (this.state.query.length % 2 === 0) {\n            this.getMovie();\n          }\n        } else if (!this.state.query) {}\n      });\n    };\n\n    this.getMovie = () => {\n      axios.get(\"\".concat(API_URL, \"?api_key=\").concat(API_KEY, \"&prefix=\").concat(this.state.query, \"&limit=7\")).then(res => this.setState({\n        movies: res.data.movies\n      }));\n    };\n  }\n\n  // ('https://hackathon-wild-hackoween.herokuapp.com/movies') \n  //Render \n  render() {\n    return React.createElement(\"div\", {\n      class: \"search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      class: \"searchTerm\",\n      placeholder: \"Which movies are you looking for ?\",\n      ref: input => this.search = input,\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }), React.createElement(Suggestions, {\n      results: this.state.results,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"submit\",\n      class: \"searchButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, \"Movie me !\"));\n  }\n\n}\n\nexport default SearchBar;","map":{"version":3,"sources":["/Users/clementhere/Documents/Dév_web/WCS/Hackathons/Halloween_hackathon/my-app/src/components/SearchBar.js"],"names":["React","axios","Suggestions","API_KEY","process","env","API_URL","SearchBar","Component","state","query","results","handleInputChange","setState","search","value","length","getMovie","get","then","res","movies","data","render","input"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAO,iBAAP;MAEQC,O,GAAYC,OAAO,CAACC,G,CAApBF,O;AACR,MAAMG,OAAO,GAAG,uDAAhB;;AAEA,MAAMC,SAAN,SAAwBP,KAAK,CAACQ,SAA9B,CAAwC;AAAA;AAAA;AAAA,SACtCC,KADsC,GAChC;AACJC,MAAAA,KAAK,EAAC,EADF;AAEJC,MAAAA,OAAO,EAAE;AAFL,KADgC;;AAAA,SAQtCC,iBARsC,GAQlB,MAAM;AACxB,WAAKC,QAAL,CAAc;AACZH,QAAAA,KAAK,EAAE,KAAKI,MAAL,CAAYC;AADP,OAAd,EAEG,MAAM;AACP,YAAI,KAAKN,KAAL,CAAWC,KAAX,IAAoB,KAAKD,KAAL,CAAWC,KAAX,CAAiBM,MAAjB,GAA0B,CAAlD,EAAqD;AACnD,cAAI,KAAKP,KAAL,CAAWC,KAAX,CAAiBM,MAAjB,GAA0B,CAA1B,KAAgC,CAApC,EAAuC;AACrC,iBAAKC,QAAL;AACD;AACF,SAJD,MAIO,IAAI,CAAC,KAAKR,KAAL,CAAWC,KAAhB,EAAuB,CAC7B;AACF,OATD;AAUD,KAnBqC;;AAAA,SAuBtCO,QAvBsC,GAuB3B,MAAM;AACfhB,MAAAA,KAAK,CACFiB,GADH,WACUZ,OADV,sBAC6BH,OAD7B,qBAC+C,KAAKM,KAAL,CAAWC,KAD1D,eAEGS,IAFH,CAEQC,GAAG,IAAI,KAAKP,QAAL,CAAc;AAACQ,QAAAA,MAAM,EAAGD,GAAG,CAACE,IAAJ,CAASD;AAAnB,OAAd,CAFf;AAGD,KA3BqC;AAAA;;AA6BtC;AAEA;AAEAE,EAAAA,MAAM,GAAG;AACP,WACE;AAAK,MAAA,KAAK,EAAC,QAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,KAAK,EAAC,YAFR;AAGE,MAAA,WAAW,EAAC,oCAHd;AAIE,MAAA,GAAG,EAAEC,KAAK,IAAI,KAAKV,MAAL,GAAcU,KAJ9B;AAKE,MAAA,QAAQ,EAAE,KAAKZ,iBALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EASE,oBAAC,WAAD;AAAa,MAAA,OAAO,EAAE,KAAKH,KAAL,CAAWE,OAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATF,EAUE;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,KAAK,EAAC,cAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAVF,CADF;AAeD;;AAjDqC;;AAoDxC,eAAeJ,SAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport Suggestions from './Suggestions';\nimport './SearchBar.css';\n\nconst { API_KEY } = process.env\nconst API_URL = 'https://hackathon-wild-hackoween.herokuapp.com/movies'\n\nclass SearchBar extends React.Component {\n  state={\n    query:'',\n    results: []\n  }\n\n  // Input pour rechercher un film \n\n  handleInputChange = () => {\n    this.setState({\n      query: this.search.value\n    }, () => {\n      if (this.state.query && this.state.query.length > 1) {\n        if (this.state.query.length % 2 === 0) {\n          this.getMovie()\n        }\n      } else if (!this.state.query) {\n      }\n    })\n  }\n\n  //Rechercher les films dans l'API\n\n  getMovie = () => {\n    axios\n      .get(`${API_URL}?api_key=${API_KEY}&prefix=${this.state.query}&limit=7`) \n      .then(res => this.setState({movies : res.data.movies}))\n  }\n\n  // ('https://hackathon-wild-hackoween.herokuapp.com/movies') \n  \n  //Render \n\n  render() {\n    return(\n      <div class=\"search\">\n        <input \n          type=\"text\" \n          class=\"searchTerm\" \n          placeholder=\"Which movies are you looking for ?\"\n          ref={input => this.search = input}\n          onChange={this.handleInputChange}\n        />\n        {/* <p>{this.state.query}</p> */}\n        <Suggestions results={this.state.results} />\n        <button type=\"submit\" class=\"searchButton\">Movie me !</button>\n        \n      </div>\n    )\n  }\n}\n\nexport default SearchBar"]},"metadata":{},"sourceType":"module"}